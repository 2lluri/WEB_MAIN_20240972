<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>회원가입 페이지</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/join.js" defer></script>
  <script type="module" src="../js/session.js"></script>
  
</head>
<body style="background-color: #f0f0f0;">
  <div class="container mt-5">
    <h2 class="mb-4">회원가입</h2>
    <form id="joinForm">
      <div class="mb-3">
        <label for="firstName" class="form-label">성</label>
        <input type="text" class="form-control" id="firstName" placeholder="김">
      </div>
      <div class="mb-3">
        <label for="lastName" class="form-label">이름</label>
        <input type="text" class="form-control" id="lastName" placeholder="지성">
      </div>
      <div class="mb-3">
        <label for="birthdayDate" class="form-label">생일</label>
        <input type="date" class="form-control" id="birthdayDate">
      </div>
      <div class="mb-3">
        <label for="emailAddress" class="form-label">이메일</label>
        <input type="email" class="form-control" id="emailAddress" placeholder="example@email.com">
      </div>
      <div class="mb-3">
        <label for="phoneNumber" class="form-label">전화번호</label>
        <input type="tel" class="form-control" id="phoneNumber" placeholder="010-1234-5678">
      </div>
      <button type="button" class="btn btn-primary" onclick="join()">회원가입</button>
    </form>
    <script src="../js/crypto.js"></script>
    <script src="../js/session.js"></script>
  </div>

  <script>
    function join() {
      const firstName = document.getElementById("firstName").value.trim();
      const lastName = document.getElementById("lastName").value.trim();
      const birthday = document.getElementById("birthdayDate").value.trim();
      const email = document.getElementById("emailAddress").value.trim();
      const phone = document.getElementById("phoneNumber").value.trim();
      const classSelect = document.getElementById("classSelect").value;

      if (!firstName || !lastName || !birthday || !email || !phone || !classSelect) {
        alert("모든 항목을 입력해 주세요.");
        return;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        alert("이메일 형식이 올바르지 않습니다.");
        return;
      }

      alert("회원가입이 완료되었습니다!");
      window.location.href = "index_login.html";  // ✅ 여기서 로그인 완료 페이지로 이동
    }
  </script>
</body>
</html>